---
title: "extraccion_reglas_asociacion"
author: "Andrea Morales Garzón"
date: "6 de diciembre de 2018"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## Lectura de los conjuntos train y test
```{r, warning=FALSE}
# Lectura de datos train
datos_train <- read.table("datos/drugLibTrain_raw.tsv", sep="\t", comment.char="",
                          quote = "\"", header=TRUE)
```

Primero leemos los datos de train.
```{r, warning=FALSE}
# Visualizar las 5 primeras filas para los datos train
head(datos_train, 5) 
# Resumen sobre los datos train
summary(datos_train) 
```

A continuación leemos los datos de test.
```{r, warning=FALSE}
# Lectura de datos test
datos_test <- read.table("./datos/drugLibTest_raw.tsv", sep="\t", comment.char="",
                         quote = "\"", header=TRUE)
```

Nos interesa quedarnos con la columna que se corresponde con benefits_review, por tanto vamos a quedarnos únicamente con esa columna. El proceso es un poco distinto, ya que no es tanto quitar las columnas que no nos interesan del dataset, sino únicamente copiar en una estructura separada aquella con la que queremos trabajar.
```{r}
# Eliminar columnas  para el ID en el train
benefits_review_train = datos_train[-c(1,3)]
# Eliminar columna para el ID en el test
benfits_review_test = datos_test[-c(1,3)]
```


```{r}
train_trans=as(benefits_review_train,"transactions")
summary(train_trans)
```


```{r}
frequentItems <- eclat (train_trans, parameter = list(supp = 0.07, maxlen = 15))
inspect(frequentItems)
itemFrequencyPlot(train_trans,support=0.1)
```
